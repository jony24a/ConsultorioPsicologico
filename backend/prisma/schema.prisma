generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider = "mysql"
  url      = env("DATABASE_URL")
}

// Modelo de Practicante
model Practicante {
  id               Int    @id @unique @default(autoincrement())
  numero_documento Int    @unique
  tipo_documento   String @db.VarChar(10)
  nombre           String @db.VarChar(50)
  genero           String @db.VarChar(50)
  estrato          String @db.VarChar(50)
  barrio           String @db.VarChar(50)
  localidad        String @db.VarChar(50)
  periodo          String @db.VarChar(50)
  jornada          String @db.VarChar(10)
  ano_matricula    Int
}

// Modelo de Profesional
model Profesional {
  id               Int    @id @unique @default(autoincrement())
  numero_documento Int    @unique
  tipo_documento   String @db.VarChar(10)
  nombre           String @db.VarChar(50)
  genero           String @db.VarChar(50)
  estrato          String @db.VarChar(50)
  barrio           String @db.VarChar(50)
  localidad        String @db.VarChar(50)
}

// Modelo de Paciente
model Paciente {
  id                           Int    @id @unique @default(autoincrement())
  numero_documento             Int    @unique
  tipo_documento               String @db.VarChar(10)
  nombre                       String @db.VarChar(50)
  telefono                     String @db.VarChar(50)
  genero                       String @db.VarChar(50)
  estrato                      String @db.VarChar(50)
  barrio                       String @db.VarChar(50)
  localidad                    String @db.VarChar(50)
  escolaridad                  String @db.VarChar(50)
  disponibilidad               String @db.VarChar(50)
  numero_documento_practicante Int?
  numero_documento_profesional Int?
}

// Modelo de Cita
model Cita {
  id_cita                      Int      @id @default(autoincrement())
  fecha                        DateTime
  hora                         String   @db.VarChar(10) 
  lugar                        String   @db.VarChar(50)
  numero_documento_paciente    Int
  numero_documento_profesional Int?
  numero_documento_practicante Int?
}

// Modelo de HistorialClinico
model HistorialClinico {
  id_historial_clinico      Int    @id @default(autoincrement())
  motivo_consulta           String @db.VarChar(100)
  remitido                  String @db.VarChar(100)
  estado_proceso            String @db.VarChar(50)
  diagnostico               String @db.VarChar(200)
  numero_documento_paciente Int
}

// Modelo de Calendario
model Calendario {
  id_calendario              Int      @id @default(autoincrement())
  disponibilidad_practicante DateTime
  fecha                      DateTime @db.Date
  hora                       DateTime @db.Time
  lugar_cita                 String   @db.VarChar(50)
  numero_documento_paciente  Int
}

model HistorialConversacion {
  id            Int      @id @default(autoincrement())
  numeroUsuario String   @unique
  tratDatos     String   @default("")
  historial     Json?
  agendamiento  Boolean  @default(false)
  createdAt     DateTime @default(now())
  updatedAt     DateTimeÂ @updatedAt
}